<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Study Notes</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/study/logo.svg">
    <meta name="description" content="">
    
    <link rel="preload" href="/study/assets/css/0.styles.237a5717.css" as="style"><link rel="preload" href="/study/assets/js/app.ca51c692.js" as="script"><link rel="preload" href="/study/assets/js/2.e9ac45d1.js" as="script"><link rel="preload" href="/study/assets/js/5.9a82e61f.js" as="script"><link rel="prefetch" href="/study/assets/js/10.a02878c2.js"><link rel="prefetch" href="/study/assets/js/11.603bf3cf.js"><link rel="prefetch" href="/study/assets/js/3.e1fa9acf.js"><link rel="prefetch" href="/study/assets/js/4.118ae386.js"><link rel="prefetch" href="/study/assets/js/6.c0dda110.js"><link rel="prefetch" href="/study/assets/js/7.092333b6.js"><link rel="prefetch" href="/study/assets/js/8.f5bd5fa2.js"><link rel="prefetch" href="/study/assets/js/9.521e9bc0.js">
    <link rel="stylesheet" href="/study/assets/css/0.styles.237a5717.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/study/" class="home-link router-link-active"><img src="/study/logo.svg" alt="Study Notes" class="logo"> <span class="site-name can-hide">Study Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/study/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/study/linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/study/spring/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Spring
</a></div><div class="nav-item"><a href="/study/springboot/" class="nav-link">
  SpringBoot
</a></div><div class="nav-item"><a href="/study/es/" class="nav-link">
  Elasticsearch
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/study/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/study/linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/study/spring/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Spring
</a></div><div class="nav-item"><a href="/study/springboot/" class="nav-link">
  SpringBoot
</a></div><div class="nav-item"><a href="/study/es/" class="nav-link">
  Elasticsearch
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/spring/#简介" class="sidebar-link">简介</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/spring/#优点" class="sidebar-link">优点</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/spring/#组成" class="sidebar-link">组成</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/spring/#扩展" class="sidebar-link">扩展</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/spring/#ioc理论推导" class="sidebar-link">IOC理论推导</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/spring/#ioc本质" class="sidebar-link">IOC本质</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/spring/#hello-spring" class="sidebar-link">Hello Spring</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/spring/#导入依赖" class="sidebar-link">导入依赖</a></li><li class="sidebar-sub-header"><a href="/study/spring/#dao" class="sidebar-link">Dao</a></li><li class="sidebar-sub-header"><a href="/study/spring/#实现类" class="sidebar-link">实现类</a></li><li class="sidebar-sub-header"><a href="/study/spring/#service" class="sidebar-link">Service</a></li><li class="sidebar-sub-header"><a href="/study/spring/#service实现类" class="sidebar-link">Service实现类</a></li><li class="sidebar-sub-header"><a href="/study/spring/#spring-配置" class="sidebar-link">Spring 配置</a></li><li class="sidebar-sub-header"><a href="/study/spring/#测试" class="sidebar-link">测试</a></li></ul></li><li><a href="/study/spring/#ioc创建对象的方式" class="sidebar-link">IoC创建对象的方式</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/spring/#spring配置" class="sidebar-link">Spring配置</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/spring/#依赖注入" class="sidebar-link">依赖注入</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/spring/#构造器注入" class="sidebar-link">构造器注入</a></li><li class="sidebar-sub-header"><a href="/study/spring/#set方式注入【重点】" class="sidebar-link">Set方式注入【重点】</a></li><li class="sidebar-sub-header"><a href="/study/spring/#扩展方式注入" class="sidebar-link">扩展方式注入</a></li><li class="sidebar-sub-header"><a href="/study/spring/#bean的作用域" class="sidebar-link">Bean的作用域</a></li></ul></li><li><a href="/study/spring/#bean的自动装配" class="sidebar-link">Bean的自动装配</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/spring/#测试-2" class="sidebar-link">测试</a></li><li class="sidebar-sub-header"><a href="/study/spring/#byname自动装配" class="sidebar-link">byName自动装配</a></li><li class="sidebar-sub-header"><a href="/study/spring/#bytype自动装配" class="sidebar-link">byType自动装配</a></li><li class="sidebar-sub-header"><a href="/study/spring/#使用注解实现自动装配" class="sidebar-link">使用注解实现自动装配</a></li></ul></li><li><a href="/study/spring/#使用注解开发" class="sidebar-link">使用注解开发</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/spring/#使用java的方式配置spring" class="sidebar-link">使用Java的方式配置Spring</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/spring/#代理模式" class="sidebar-link">代理模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/spring/#静态代理" class="sidebar-link">静态代理</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><img src="data:image/png;base64,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"> <h1 id="spring"><a href="#spring" class="header-anchor">#</a> Spring</h1> <p>官方：https://www.spring.io</p> <h2 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h2> <ul><li>Spring：春天-------&gt;给软件行业带来了春天！</li> <li>2002，首次推出了Spring框架的雏形：interface21框架 https://www.interface21.io/</li> <li>Spring框架以interface21框架为基础，经过重新设计，于2004年3月24日发布了1.0正式版</li> <li>创始人：[Rod Johnson](https://baike.baidu.com/item/Rod Johnson/1423612) 搞计算机之前 是个音乐学博士...</li> <li>目的：解决企业应用开发的复杂性</li> <li>功能：使用基本的JavaBean代替EJB，并提供了更多的企业应用功能</li> <li>范围：任何Java应用</li> <li>轮子理论：不要重复发明轮子</li> <li>Spring理念：使现有的技术更加容易使用，整合了现有的技术框架</li> <li>SSH：Struts2 + Spring + Hibernate</li> <li>SSm：SpringMVC + Spring + Mybatis</li></ul> <p><strong>Spring是一个轻量级控制反转(IoC)和面向切面(AOP)的容器框架</strong></p> <p>官方下载地址：https://repo.spring.io/release/org/springframework/spring/</p> <p>Github：https://github.com/spring-projects/spring-framework</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-webmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.3.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-webmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.2.0.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.2.9.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="优点"><a href="#优点" class="header-anchor">#</a> 优点</h2> <ul><li>Spring是一个开源的免费的框架（容器）</li> <li>Spring是一个轻量级的、非入侵式的框架</li> <li>控制反转（IOC），面向切面编程（AOP）</li> <li>支持事务的处理，对框架整合的支持</li></ul> <p>==Spring就是一个轻量级的控制反转（IOC）和面向切面编程（AOP）的框架==</p> <h2 id="组成"><a href="#组成" class="header-anchor">#</a> 组成</h2> <img src="/study/assets/img/qidamokuai.3680a0ba.png" style="zoom:67%;"> <ol><li><p>spring core：提供了spring 的核心功能，BeanFactory是spring核心容器的主要组件，它通过Ioc把程序的配置和依赖性与实际的代码分开，是整个spring的基础</p></li> <li><p>spring context：通过配置文件向spring提供上下文信息，它构建在BeanFactory之上，另外增加了国际化和资源访问等功能</p></li> <li><p>spring dao：提供了一个简单有效的JDBC应用</p></li> <li><p>spring aop：提供了面向方面编程的功能</p></li> <li><p>spring orm：spring除了有自己的JDBC以外还提供了对其他ORM框架的支持，如</p> <p>Hibernate，都可以和spring进行良好的结合</p></li> <li><p>spring web：提供了简化的处理多部分请求以及把请求参数绑定到域的任务。</p></li> <li><p>spring MVC：提供了MVC2模式的实现，也可以和struts良好的集成在一起。</p></li></ol> <h2 id="扩展"><a href="#扩展" class="header-anchor">#</a> 扩展</h2> <p>现代化的Java开发！基于Spring的开发</p> <img src="/study/assets/img/goucheng.3752cca1.png" style="zoom:80%;"> <ul><li>Spring Boot
<ul><li>一个快速开发的脚手架</li> <li>基于SpringBoot可以快速的开发单个微服务</li> <li>约定大于配置</li></ul></li> <li>SpringCloud
<ul><li>SpringCloud是基于SpringBoot实现的</li></ul></li></ul> <p>现在大多数公司都在使用SpringBoot进行快速开发，学习SpringBoot的前提需要完全掌握Spring及Spring MVC！承上启下的作用！</p> <p>弊端：发展了太久后，违背了原来的理念，配置十分繁琐，人称“<strong>配置地狱</strong>”</p> <h2 id="ioc理论推导"><a href="#ioc理论推导" class="header-anchor">#</a> IOC理论推导</h2> <p>原步骤：</p> <ol><li>UserDao接口</li> <li>UserDaoImpl实现类</li> <li>UserService业务接口</li> <li>UserServiceImpl业务实现类</li></ol> <p>在之前业务中，用户的需求可能会影响我们原来的代码，我们需要根据用户的需求去修改原代码！如果程序代码量十分大，修改一次的成本代价十分昂贵！</p> <p><strong>Dao</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>DaoImpl</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDao</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;默认获取用户数据&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//注意：这是两个DaoImpl 你们要创建两个实现类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoMysqlImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDao</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Mysql获取用户数据&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Service</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ServiceImpl</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span>

    <span class="token comment">//通过setUserDao方法实现动态值的注入</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUserDao</span><span class="token punctuation">(</span><span class="token class-name">UserDao</span> userDao<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userDao <span class="token operator">=</span> userDao<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        userDao<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Test</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> test <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//用户实际调用的是业务层</span>
        <span class="token class-name">UserServiceImpl</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userService<span class="token punctuation">.</span><span class="token function">setImpl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">UserDaoOracleImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userService<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//以前每更换一个业务都需要在业务实现类中重新实现，而现在只需要告诉程序业务，然后它自己会去创建相应的业务对象</span>
<span class="token comment">//通过setter实现</span>
</code></pre></div><ul><li>之前，程序是主动创建对象！控制权在程序员手上</li> <li>使用了set注入后，程序不再具有主动性，而是变成了被动的接受对象</li></ul> <p>这种思想，从本质上解决了问题，程序员不用再去管理对象的创建，系统耦合性大大降低，可以更加专注在业务的实现上，IOC的原型</p> <h2 id="ioc本质"><a href="#ioc本质" class="header-anchor">#</a> IOC本质</h2> <p>控制反转IOC（Inversion of Control），是一种设计思想，DI（依赖注入）是实现IOC的一种方法，没有IOC的程序中，我们使用面向对象编程，对象的创建与对象间的依赖关系完全硬编码在程序中，对象的创建由程序自己控制，控制反转后将对象的创建转移给第三方，所谓控制反转就是：获得依赖对象的方式反转了</p> <p><strong>IOC是Spring框架的核心内容</strong>，使用多种方式完美的实现了IOC，可以使用XML配置，也可以使用注解，也可以零配置实现IOC</p> <p>采用XMl方式配置Bean的时候，Bean的定义信息和实现是分离的，而采用注解的方式可以把二者合为一体，Bean的定义信息直接以注解的形式定义在实现类中，从而达到了零配置的目的</p> <p><strong>控制反转是一种通过描述（XMl或注解）并通过第三方去生产或获取特定对象的方式，在Spring中实现控制反转的是IOC容器，其实现方法是依赖注入（Dependency Injection, DI）</strong></p> <h2 id="hello-spring"><a href="#hello-spring" class="header-anchor">#</a> Hello Spring</h2> <h3 id="导入依赖"><a href="#导入依赖" class="header-anchor">#</a> 导入依赖</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-webmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.3.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="dao"><a href="#dao" class="header-anchor">#</a> Dao</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="实现类"><a href="#实现类" class="header-anchor">#</a> 实现类</h3> <img src="/study/assets/img/image-20210409151218530.5af0d34f.png" style="zoom:67%;"> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDao</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;默认获取用户数据&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="service"><a href="#service" class="header-anchor">#</a> Service</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="service实现类"><a href="#service实现类" class="header-anchor">#</a> Service实现类</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span>
	<span class="token comment">//通过set方法注入</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUserDao</span><span class="token punctuation">(</span><span class="token class-name">UserDao</span> userDao<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userDao <span class="token operator">=</span> userDao<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        userDao<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="spring-配置"><a href="#spring-配置" class="header-anchor">#</a> Spring 配置</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.it.dao.UserDaoMysqlImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>daoMysql<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.it.dao.UserDaoOracleImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>daoOracle<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.it.service.UserServiceImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>daoOracle<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="测试"><a href="#测试" class="header-anchor">#</a> 测试</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//获取ApplicationContext 拿到Spring容器</span>
        <span class="token class-name">ApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;spring.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token comment">//获取bean</span>
        <span class="token class-name">UserService</span> service <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        service<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>对象属性是由Spring容器设置的</p> <ul><li><p>控制</p> <p>谁来控制对象的创建，传统应用程序的对象是由程序本身创建的，使用Spring后，对象是由Spring来创建的</p></li> <li><p>反转</p> <p>程序本身不创建对象，而变成被动接收对象</p></li> <li><p>依赖注入</p> <p>利用set方法进行注入</p></li></ul> <p>IoC是一种编程思想，由主动的编程变成被动的接收</p> <p>可以通过 new ClassPathXmlApplicationContext() 获取配置文件源码</p> <p>要实现不同操作，只需要在xml配置文件中进行修改，不需要在程序中改动，所谓的IoC就是对象由Spring来创建、管理、装配</p> <h2 id="ioc创建对象的方式"><a href="#ioc创建对象的方式" class="header-anchor">#</a> IoC创建对象的方式</h2> <ul><li><p>无参构造创建对象，默认</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>奈何<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></li> <li><p>有参构造创建对象</p> <ul><li><p>下标赋值</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--
	index：属性下标
	value：属性值
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>奈何<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></li> <li><p>类型赋值</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--
	如果有两个String类型参数 就不行了
	不推荐使用
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>java.lang.String<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>奈何<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></li> <li><p>参数名赋值</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--
	name：参数名字
	value：属性值
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>奈何<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></li></ul></li></ul> <p><strong>总结：在配置文件加载的时候，容器中管理的对象就已经实例化了</strong></p> <h2 id="spring配置"><a href="#spring配置" class="header-anchor">#</a> Spring配置</h2> <p><img src="/study/assets/img/image-20210409160210221.ff90b492.png" alt="image-20210409160210221"></p> <ul><li><p>别名</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>alias</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bieming<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p><img src="/study/assets/img/image-20210409160538611.e4eb9189.png" alt=""></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//测试</span>
<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;bieming&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//通过别名获取对象</span>
user<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>Bean的配置</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--
	id：bean的唯一标识
	class：bean对象所对应的全限定名
	name：别名，name可以同时取多个别名 name=&quot;u1,u2,u3...&quot; 可以用，分割 也可以通过空格分割 分号；也可以
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.it.pojo.UserT<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userT<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user2 u2,u3;u4<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></li> <li><p>import</p> <p>import一般用于团队开发，可以将多个配置文件导入合并为一个</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.it.pojo.User<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>奈何<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>使用时直接使用总配置就可以</p> <p><img src="/study/assets/img/image-20210409162421551.d9147487.png" alt="image-20210409162421551"></p></li></ul> <p>在导入时，如果有两个id一样的bean，则会选择使用最后导入的xml</p> <p><img src="/study/assets/img/image-20210409162604273.f8052e0f.png" alt="image-20210409162604273"></p> <h2 id="依赖注入"><a href="#依赖注入" class="header-anchor">#</a> 依赖注入</h2> <h3 id="构造器注入"><a href="#构造器注入" class="header-anchor">#</a> 构造器注入</h3> <ul><li><p>C命名空间注入</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--
	在xml头部引入命名空间
--&gt;</span>
xmlns:c=&quot;http://www.springframework.org/schema/c&quot;
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--
	属性必须要有 有参构造
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.it.pojo.User<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user2<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">c:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>奈奈<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">c:</span>_1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>18<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></li></ul> <h3 id="set方式注入【重点】"><a href="#set方式注入【重点】" class="header-anchor">#</a> Set方式注入【重点】</h3> <ul><li><p>依赖注入：Set注入</p> <ul><li>依赖：bean对象的创建依赖于容器</li> <li>注入：bean对象中的所有属性由容器来注入</li></ul> <p><strong>搭建环境</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// Student</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">Address</span> address<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> books<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hobbies<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> card<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> games<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">Properties</span> info<span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> wife<span class="token punctuation">;</span>
getter<span class="token operator">/</span>setter<span class="token operator">/</span>toString
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//Address</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> address<span class="token punctuation">;</span>
getter<span class="token operator">/</span>setter<span class="token operator">/</span>toString
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.it.pojo.Address<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>上海<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.it.pojo.Student<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>student<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--普通值注入 value--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>奈何<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--Bean注入 ref--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!--数组注入 array--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>books<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>array</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>Java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>CSS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>Python<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>array</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--List集合注入--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hobbies<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>码农<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>听歌<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>看电影<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>list</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--Map集合注入--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>card<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>身份证<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>naihe6666666666666<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>银行卡<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>naihe123456789<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--Set注入--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>games<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>倩女<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>斗地主<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--null 注入--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wife<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>null</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--Properties 注入--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>props</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>年龄<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>性别<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>男<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>props</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//测试</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">ApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;spring.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">Student</span> student <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">)</span>context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;student&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>student<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h3 id="扩展方式注入"><a href="#扩展方式注入" class="header-anchor">#</a> 扩展方式注入</h3> <ul><li><p>P命名空间</p> <p>在xml头部引入命名空间</p> <div class="language-xml extra-class"><pre class="language-xml"><code>xmlns:p=&quot;http://www.springframework.org/schema/p&quot;
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--
	P命名空间注入 可以直接注入属性的值：property
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.it.pojo.User<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">p:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>奈何<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">p:</span>age</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//测试</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;user.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//声明类型 xx.class 就不用每次都强转</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <p><strong>注意：P命名空间和C命名空间不能直接使用，需要导入xml约束</strong></p> <h3 id="bean的作用域"><a href="#bean的作用域" class="header-anchor">#</a> Bean的作用域</h3> <p><img src="/study/assets/img/image-20210410232234245.21723333.png" alt="image-20210410232234245"></p> <ol><li><p>单例模式（Spring默认机制）</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.it.pojo.User<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user2<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">c:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>奈奈<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">c:</span>_1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>18<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>singleton<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></li> <li><p>原型模式：每次从容器中get的时候，都会产生一个新对象</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.it.pojo.User<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user2<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">c:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>奈奈<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">c:</span>_1</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>18<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prototype<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></li> <li><p>其余的 request、session、application 这些只能在web开发中用到</p></li></ol> <h2 id="bean的自动装配"><a href="#bean的自动装配" class="header-anchor">#</a> Bean的自动装配</h2> <ul><li>自动装配是Spring满足bean依赖的一种方式</li> <li>Spring会在上下文中自动寻找，并自动给bean装配属性</li></ul> <p><strong>Spring中有三种装配方式</strong></p> <ul><li>在xml中显示配置</li> <li>在java中显示配置</li> <li>隐式的自动装配bean【重要】</li></ul> <h3 id="测试-2"><a href="#测试-2" class="header-anchor">#</a> 测试</h3> <p>环境搭建</p> <p><img src="/study/assets/img/image-20210411001714738.0a44fb2b.png" alt="image-20210411001714738"></p> <h3 id="byname自动装配"><a href="#byname自动装配" class="header-anchor">#</a> byName自动装配</h3> <p>byName：会自动在容器上下文中查找，和自己对象set方法后面的值对应的beanid</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.it.pojo.Cat<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cat<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.it.pojo.Dog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dog<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.it.pojo.People<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>people<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autowire</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>byName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>奈何<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="bytype自动装配"><a href="#bytype自动装配" class="header-anchor">#</a> byType自动装配</h3> <p>byType：会自动在容器上下文中查找，和自己对象属性类型相同的bean</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.it.pojo.People<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>people<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autowire</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>byType<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>奈何<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><em>小结：</em></p> <ul><li>byName的时候，需要保证所有bean的id唯一，并且这个bean需要和自动注入的属性的set方法的值一致</li> <li>byType的时候，需要保证所有bean的class唯一，并且这个bean需要和自动注入的属性的类型一致</li></ul> <h3 id="使用注解实现自动装配"><a href="#使用注解实现自动装配" class="header-anchor">#</a> 使用注解实现自动装配</h3> <p>JDK1.5支持的注解，Spirng2.5支持注解</p> <p>使用注解须知：</p> <ul><li><p>导入约束 context约束</p></li> <li><p>配置注解支持</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>
       http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context.xsd

       &lt;!--开启注解的支持--&gt;
       &lt;context:annotation-config/&gt;
<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>@Autowired</p> <p>直接在属性上使用即可，也可以在set方式上使用</p> <p>使用Autowired我们可以不用编写set方法，前提是这个自动装配的属性在IoC（Spring）容器中存在，且符合名字byName</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">Cat</span> cat<span class="token punctuation">;</span>
<span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">Dog</span> dog<span class="token punctuation">;</span>
</code></pre></div><p>科普：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Nullable</span>	字段标记了这个注解，说明这个字段可以为<span class="token keyword">null</span>
<span class="token keyword">public</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token class-name">Cat</span> cat<span class="token punctuation">,</span> <span class="token class-name">Dog</span> dog<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cat <span class="token operator">=</span> cat<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dog <span class="token operator">=</span> dog<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@Autowired</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>	如果显示定义了<span class="token class-name">Autowired</span>的required属性为<span class="token boolean">false</span>，说明这个对象可以为<span class="token keyword">null</span>，否则不允许为空
<span class="token annotation punctuation">@Autowired</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">Cat</span> cat<span class="token punctuation">;</span>
</code></pre></div><p><strong>如果@Autowired自动装配的环境比较复杂，自动装配无法通过一个注解【@Autowired】完成的时候，我们可以使用@Qualifier(value = &quot;xxx&quot;)去配置@Autowired的使用，指定一个唯一的bean对象注入</strong></p> <p>@Resource</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Resource</span>
<span class="token keyword">private</span> <span class="token class-name">Cat</span> cat<span class="token punctuation">;</span>
<span class="token annotation punctuation">@Resource</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;xx&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">Dog</span> dog<span class="token punctuation">;</span>
</code></pre></div><p><strong>小结：</strong></p> <p>@Resource和@Autowired的区别</p> <ul><li>都是用来自动装配的，都可以放在属性字段上</li> <li>@Autowired 通过byType的方式实现，而且必须要求这个对象存在【常用】</li> <li>@Resource 默认通过byName方式实现，如果找不到名字，则通过byType实现，如果两个都找不到的情况下，就报错</li> <li>执行顺序不同：@Autowired 通过byType的方式实现   @Resourc 默认通过byName方式实现</li></ul></li></ul> <h2 id="使用注解开发"><a href="#使用注解开发" class="header-anchor">#</a> 使用注解开发</h2> <p>在Spring4之后，要使用注解开发，必须要保证aop的包导入了</p> <p><img src="/study/assets/img/image-20210411011137395.9ea42e2f.png" alt="image-20210411011137395"></p> <p>使用注解需导入context约束，增加注解支持</p> <p>@Component：组件，放在类上说明这个类被Spring管理了，就是bean</p> <ol><li><p>bean</p></li> <li><p>属性如何注入</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token comment">//相当于 &lt;property name=&quot;name&quot; value=&quot;奈何&quot;/&gt; 也可以放在set方法上</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;奈何&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>衍生的注解</p> <p>@Component 有几个衍生注解，在web开发中 会按照mvc三层架构分层</p> <ul><li>Dao	@Repository</li> <li>Service	@Service</li> <li>Controller	@Controller</li></ul> <p><strong>这四个注解功能都是一样的，都是代表将某个类注册到Spring中，装配Bean</strong></p></li> <li><p>自动装配配置</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Autowired</span>：自动装配通过类型、名字
    如果<span class="token class-name">Autowired</span>不能唯一自动装配上属性，则需要通过<span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">)</span>去配置
<span class="token annotation punctuation">@Nullable</span>：字段标记了这个注解，说明这个字段可以为<span class="token keyword">null</span>
<span class="token annotation punctuation">@Resource</span>：自动装配通过名字、类型
</code></pre></div></li> <li><p>作用域</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Scope</span><span class="token punctuation">(</span><span class="token string">&quot;prototype&quot;</span><span class="token punctuation">)</span><span class="token comment">// 作用域 [singleton]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token comment">//相当于 &lt;property name=&quot;name&quot; value=&quot;奈何&quot;/&gt; 也可以放在set方法上</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;奈何&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>小结</p> <p>xml与注解</p> <ul><li>xml更加万能，适用于任何场合，维护简单方便</li> <li>注解 不是自己的类不能使用，维护相对复杂</li></ul> <p>xml与注解最佳实践</p> <ul><li><p>xml用来管理bean</p></li> <li><p>注解只负责完成属性的注入</p></li> <li><p>在使用过程中，只需要注意一个问题：必须让注解生效，需要开启注解支持</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--指定要扫描的包 这个包下的注解就会生效--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.it<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--开启注解--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>annotation-config</span><span class="token punctuation">/&gt;</span></span>
</code></pre></div></li></ul></li></ol> <h2 id="使用java的方式配置spring"><a href="#使用java的方式配置spring" class="header-anchor">#</a> 使用Java的方式配置Spring</h2> <p>不使用Spring的xml配置，全权交给Java来做</p> <p>JavaConfig是Spring的一个子项目，在Spring4之后 成为了一个核心功能</p> <p><img src="/study/assets/img/image-20210411091918650.95220b6f.png" alt="image-20210411091918650"></p> <p>实体类</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;奈何&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;User{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;name='&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
                <span class="token char">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>配置类</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//@Configuration 代表这是一个配置类 spring.xml</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;com.it.pojo&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyConfig</span> <span class="token punctuation">{</span>
    <span class="token comment">//注册一个bean 相当于bean标签</span>
    <span class="token comment">//方法名字 相当于bean标签中的id</span>
    <span class="token comment">//方法返回值 相当于bean标签的class</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回要注入到bean的对象</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>多个配置类通过@Import导入</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token class-name">MyConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyConfig2</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p>测试</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//如果完全使用了配置类的方式去做 只能通过AnnotationConfig上下文来获取容器 通过配置类的class对象加载</span>
        <span class="token class-name">ApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">MyConfig2</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><em>这种纯Java的配置方式 在SpringBoot中随处可见</em></p> <h2 id="代理模式"><a href="#代理模式" class="header-anchor">#</a> 代理模式</h2> <p>为什么要学习代理模式？</p> <p>代理模式SpringAOP的底层</p> <p>代理模式分类：</p> <ul><li>静态代理</li> <li>动态代理</li></ul> <p><img src="/study/assets/img/daili.4d099de0.png" alt=""></p> <h3 id="静态代理"><a href="#静态代理" class="header-anchor">#</a> 静态代理</h3> <p>角色分析：</p> <ul><li>抽象角色：一般会使用接口或者抽象类来解决</li> <li>真实角色：被代理的角色</li> <li>代理角色：代理真实角色，代理真实角色后会做一些附属操作</li> <li>客户：访问代理对象的人</li></ul> <p>代码步骤：</p> <ol><li><p>接口</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//租房</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Rent</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">rent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>真实角色</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//房东</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Host</span> <span class="token keyword">implements</span> <span class="token class-name">Rent</span><span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">rent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;房东要出租房子&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>代理角色</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//中介</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Proxy</span> <span class="token keyword">implements</span> <span class="token class-name">Rent</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Host</span> host<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token class-name">Host</span> host<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>host <span class="token operator">=</span> host<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">rent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">seeHouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        host<span class="token punctuation">.</span><span class="token function">rent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">heTong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">fare</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//看房</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">seeHouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;中介带你看房&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//収中介费</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fare</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;収中介费&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">heTong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;签合同&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>客户端访问代理角色</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Proper</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Host</span> host <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Host</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//代理 中介帮房东租房子 但是 代理角色一般会有附属操作</span>
        <span class="token class-name">Proxy</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>host<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//不用面对房东 直接找中介即可</span>
        proxy<span class="token punctuation">.</span><span class="token function">rent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <p>代理模式的好处：</p> <ul><li>使真实角色的操作更加纯粹，不用去关注一些公共业务</li> <li>公共也就交给代理角色 实现了业务的分工</li> <li>公共业务发生扩展时 方便集中管理</li></ul> <p>缺点：</p> <ul><li>一个真实角色就会产生一个代理角色；代码量翻倍-开发效率低</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/study/assets/js/app.ca51c692.js" defer></script><script src="/study/assets/js/2.e9ac45d1.js" defer></script><script src="/study/assets/js/5.9a82e61f.js" defer></script>
  </body>
</html>
